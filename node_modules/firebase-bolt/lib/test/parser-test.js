"use strict";
/*
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var chai_1 = require('chai');
var fileIO = require('../file-io');
var readFile = fileIO.readFile;
var logger = require('../logger');
var ast = require('../ast');
var bolt = require('../bolt');
var helper = require('./test-helper');
var sample_files_1 = require('./sample-files');
var parser = require('../rules-parser');
var parse = parser.parse;
// TODO: Test duplicated function, and schema definitions.
suite("Rules Parser Tests", function () {
    test("Empty input", function () {
        var result = parse("");
        chai_1.assert.ok(result instanceof ast.Symbols);
    });
    suite("Function Samples", function () {
        var tests = [
            { data: "function f() { return true; }",
                expect: { f: { params: [], body: ast.boolean(true) } }
            },
            { data: "function longName() { return false; }",
                expect: { longName: { params: [], body: ast.boolean(false) } }
            },
            { data: "function f(){return true;} function g(){return false;}",
                expect: { f: { params: [], body: ast.boolean(true) },
                    g: { params: [], body: ast.boolean(false) } }
            }
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            var result = parse(data);
            chai_1.assert.deepEqual(result.functions, expect);
        });
    });
    suite("Literals", function () {
        var tests = [
            ["true", ast.boolean(true)],
            ["false", ast.boolean(false)],
            ["null", ast.nullType()],
            ["1", ast.number(1)],
            ["1.1", ast.number(1.1)],
            ["+3", ast.number(3)],
            ["-3", ast.number(-3)],
            ["0x2", ast.number(2)],
            ["[1, 2, 3]", ast.array([ast.number(1), ast.number(2), ast.number(3)])],
            ["\"string\"", ast.string("string")],
            ["'string'", ast.string("string")],
            ["''", ast.string('')],
            ["/pattern/", ast.regexp("pattern")],
            ["/pattern/i", ast.regexp("pattern", "i")],
            ["/pat\\ntern/", ast.regexp("pat\\ntern")],
            ["/pat\\/tern/", ast.regexp("pat\\/tern")],
            ["/pat\\tern/", ast.regexp("pat\\tern")],
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            var result = parse("function f() { return " + data + ";}");
            chai_1.assert.deepEqual(result.functions.f.body, expect);
        });
    });
    suite("Expressions", function () {
        var tests = [
            ["a", ast.variable('a')],
            ["a.b", ast.reference(ast.variable('a'), ast.string('b'))],
            ["a['b']", ast.reference(ast.variable('a'), ast.string('b'))],
            ["a[b]", ast.reference(ast.variable('a'), ast.variable('b'))],
            ["a()", ast.call(ast.variable('a'), [])],
            ["a.b()", ast.call(ast.reference(ast.variable('a'), ast.string('b')), [])],
            ["a().b", ast.reference(ast.call(ast.variable('a'), []), ast.string('b'))],
            ["-a", ast.neg(ast.variable('a'))],
            // TODO: This should be an error - looks like pre-decrement
            ["--a", ast.neg(ast.neg(ast.variable('a')))],
            ["+a", ast.variable('a')],
            ["!a", ast.not(ast.variable('a'))],
            ["2 * a", ast.mult(ast.number(2), ast.variable('a'))],
            ["2 / a", ast.div(ast.number(2), ast.variable('a'))],
            ["a % 2", ast.mod(ast.variable('a'), ast.number(2))],
            ["1 + 1", ast.add(ast.number(1), ast.number(1))],
            ["a - 1", ast.sub(ast.variable('a'), ast.number(1))],
            // Unary precedence
            ["a - -b", ast.sub(ast.variable('a'), ast.neg(ast.variable('b')))],
            // Left associative
            ["a + b + c", ast.add(ast.add(ast.variable('a'), ast.variable('b')), ast.variable('c'))],
            // Multiplcation precedence
            ["a + b * c", ast.add(ast.variable('a'), ast.mult(ast.variable('b'), ast.variable('c')))],
            ["(a + b) * c", ast.mult(ast.add(ast.variable('a'), ast.variable('b')), ast.variable('c'))],
            ["a < 7", ast.lt(ast.variable('a'), ast.number(7))],
            ["a > 7", ast.gt(ast.variable('a'), ast.number(7))],
            ["a <= 7", ast.lte(ast.variable('a'), ast.number(7))],
            ["a >= 7", ast.gte(ast.variable('a'), ast.number(7))],
            ["a == 3", ast.eq(ast.variable('a'), ast.number(3))],
            ["a != 0", ast.ne(ast.variable('a'), ast.number(0))],
            ["a === 3", ast.eq(ast.variable('a'), ast.number(3))],
            ["a !== 0", ast.ne(ast.variable('a'), ast.number(0))],
            ["3 * a == b", ast.eq(ast.mult(ast.number(3), ast.variable('a')), ast.variable('b'))],
            ["a == 1 && b <= 2", ast.and(ast.eq(ast.variable('a'), ast.number(1)), ast.lte(ast.variable('b'), ast.number(2)))],
            ["a == 1 || b <= 2", ast.or(ast.eq(ast.variable('a'), ast.number(1)), ast.lte(ast.variable('b'), ast.number(2)))],
            // Left associative (even though execution is short-circuited!
            ["a && b && c", ast.and(ast.and(ast.variable('a'), ast.variable('b')), ast.variable('c'))],
            ["a || b || c", ast.or(ast.or(ast.variable('a'), ast.variable('b')), ast.variable('c'))],
            // && over || precendence
            ["a && b || c && d", ast.or(ast.and(ast.variable('a'), ast.variable('b')), ast.and(ast.variable('c'), ast.variable('d')))],
            ["a ? b : c", ast.ternary(ast.variable('a'), ast.variable('b'), ast.variable('c'))],
            ["a || b ? c : d", ast.ternary(ast.or(ast.variable('a'), ast.variable('b')), ast.variable('c'), ast.variable('d'))],
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            var result = parse("function f() { return " + data + ";}");
            chai_1.assert.deepEqual(result.functions.f.body, expect);
        });
    });
    suite("Whitespace", function () {
        var fn = "function f() { return true; }";
        var fnAST = { params: [], body: ast.boolean(true) };
        var tests = [
            " " + fn,
            fn + " ",
            " " + fn + " ",
            "\t" + fn,
            "\n" + fn,
            "\r\n" + fn,
            fn + "\n",
            fn + "\r\n",
            "  \t" + fn + "  \r\n"
        ];
        helper.dataDrivenTest(tests, function (data) {
            chai_1.assert.deepEqual(parse(data).functions.f, fnAST);
        });
    });
    suite("Comments", function () {
        var fn = "function f() { return true; }";
        var fnAST = { params: [], body: ast.boolean(true) };
        var tests = [
            "//Single Line\n" + fn,
            fn + " // My rule",
            "// Line 1\n// Line 2\n" + fn,
            "/* inline */ " + fn,
            "/* pre */ " + fn + " /* post */"
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            chai_1.assert.deepEqual(parse(data).functions.f, fnAST);
        });
    });
    suite("Paths", function () {
        var tests = [
            { data: "path / {}",
                expect: [{ template: new ast.PathTemplate(),
                        isType: ast.typeType('Any'),
                        methods: {} }] },
            { data: "path /x {}",
                expect: [{ template: new ast.PathTemplate(['x']),
                        isType: ast.typeType('Any'),
                        methods: {} }] },
            { data: "path /p/{$q} { write() { return true;  }}",
                expect: [{ isType: ast.typeType('Any'),
                        template: new ast.PathTemplate(['p', '$q']),
                        methods: { write: { params: [], body: ast.boolean(true) } } }] },
            { data: "path /p/{q} { write() { return true;  }}",
                expect: [{ isType: ast.typeType('Any'),
                        template: new ast.PathTemplate(['p', new ast.PathPart('$q', 'q')]),
                        methods: { write: { params: [], body: ast.boolean(true) } } }] },
            { data: "path /x/y { read() { true } }",
                expect: [{ isType: ast.typeType('Any'),
                        template: new ast.PathTemplate(['x', 'y']),
                        methods: { read: { params: [], body: ast.boolean(true) } } }] },
            { data: "path /x { read() { true } /y { write() { true } }}",
                expect: [{ isType: ast.typeType('Any'),
                        template: new ast.PathTemplate(['x']),
                        methods: { read: { params: [], body: ast.boolean(true) } } },
                    { isType: ast.typeType('Any'),
                        template: new ast.PathTemplate(['x', 'y']),
                        methods: { write: { params: [], body: ast.boolean(true) } } }] },
            { data: "path /x { read() { true } /y { write() { true } path /{$id} { validate() { false } }}}",
                expect: [{ isType: ast.typeType('Any'),
                        template: new ast.PathTemplate(['x']),
                        methods: { read: { params: [], body: ast.boolean(true) } } },
                    { isType: ast.typeType('Any'),
                        template: new ast.PathTemplate(['x', 'y']),
                        methods: { write: { params: [], body: ast.boolean(true) } } },
                    { isType: ast.typeType('Any'),
                        template: new ast.PathTemplate(['x', 'y', '$id']),
                        methods: { validate: { params: [], body: ast.boolean(false) } } },
                ] },
            { data: "path /hyphen-key {}",
                expect: [{ template: new ast.PathTemplate(['hyphen-key']),
                        isType: ast.typeType('Any'),
                        methods: {} }] },
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            chai_1.assert.deepEqual(sortPaths(parse(data).paths), sortPaths(expect));
        });
    });
    suite("Schema", function () {
        var tests = [
            { data: "type Foo { a: Number }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.typeType('Number') },
                    methods: {},
                    params: []
                } },
            { data: "type Foo { a: Number, b: String }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.typeType('Number'),
                        b: ast.typeType('String') },
                    methods: {},
                    params: []
                } },
            { data: "type Foo extends Bar {}",
                expect: { derivedFrom: ast.typeType('Bar'),
                    properties: {},
                    methods: {},
                    params: []
                } },
            { data: "type Foo { a: Number validate() { return true; }}",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.typeType('Number') },
                    methods: { validate: { params: [],
                            body: ast.boolean(true) } },
                    params: []
                } },
            { data: "type Foo { a: Number, validate() { return true; }}",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.typeType('Number') },
                    methods: { validate: { params: [],
                            body: ast.boolean(true) } },
                    params: []
                } },
            { data: "type Foo { a: Number | String }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.unionType([ast.typeType('Number'),
                            ast.typeType('String')]) },
                    methods: {},
                    params: []
                } },
            { data: "type Foo extends Number | String;",
                expect: { derivedFrom: ast.unionType([ast.typeType('Number'), ast.typeType('String')]),
                    properties: {},
                    methods: {},
                    params: []
                } },
            { data: "type Foo { a: Map<String, Number> }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.genericType('Map', [ast.typeType('String'),
                            ast.typeType('Number')]) },
                    methods: {},
                    params: []
                } },
            { data: "type Foo extends Map<String, Number>;",
                expect: { derivedFrom: ast.genericType('Map', [ast.typeType('String'), ast.typeType('Number')]),
                    properties: {},
                    methods: {},
                    params: []
                } },
            // Alias for Map<String, Other>
            { data: "type Foo { a: Other[] }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.genericType('Map', [ast.typeType('String'),
                            ast.typeType('Other')]) },
                    methods: {},
                    params: []
                } },
            { data: "type Foo { a: Multi<String, Number, Boolean> }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.genericType('Multi', [ast.typeType('String'),
                            ast.typeType('Number'),
                            ast.typeType('Boolean')]) },
                    methods: {},
                    params: []
                } },
            { data: "type Foo { a: Gen1<String> }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.genericType('Gen1', [ast.typeType('String')]) },
                    methods: {},
                    params: []
                } },
            { data: "type Foo<T> { a: T }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { a: ast.typeType('T') },
                    methods: {},
                    params: ["T"]
                } },
            { data: "type Foo { name: String, age: Number }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { name: ast.typeType('String'),
                        age: ast.typeType('Number') },
                    methods: {},
                    params: []
                } },
            { data: "type Foo { name: String; age: Number; }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { name: ast.typeType('String'),
                        age: ast.typeType('Number') },
                    methods: {},
                    params: []
                } },
            { data: "type Foo { 'hyphen-prop': String }",
                expect: { derivedFrom: ast.typeType('Object'),
                    properties: { "hyphen-prop": ast.typeType('String') },
                    methods: {},
                    params: []
                } },
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            var result = parse(data).schema.Foo;
            chai_1.assert.deepEqual(result, expect);
        });
    });
    suite("Function variations", function () {
        var tests = [
            "function f(x) { return x + 1; }",
            "function f(x) { return x + 1 }",
            "function f(x) { x + 1; }",
            "function f(x) { x + 1 }",
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            var result = parse(data);
            chai_1.assert.deepEqual(result.functions.f.body, ast.add(ast.variable('x'), ast.number(1)));
        });
    });
    suite("Method variations", function () {
        var tests = [
            "validate() { return this; }",
            "validate() { return this  }",
            "validate() { this; }",
            "validate() { this }",
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            var result = parse("type T {" + data + "}");
            chai_1.assert.deepEqual(result.schema.T.methods.validate.body, ast.variable('this'));
        });
    });
    suite("Path variations", function () {
        var tests = [
            "path /p/{c} {}",
            "/p/{c} {}",
            "/p/{c};",
            "path /p/{c} is String {}",
            "path /p/{c} is String;",
            "/p/{c} is String {}",
            "/p/{c} is String;",
            "/p/{c=*} is String;",
            "/p/{c = *} is String;",
            "/p/{c} { validate() { return true; } }",
            "/p/{c} { validate() { return true } }",
            "/p/{c} { validate() { true } }",
            "/p/{c} { validate() { true; } }",
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            var result = parse(data);
            chai_1.assert.deepEqual(result.paths[0].template, new ast.PathTemplate(['p', new ast.PathPart('$c', 'c')]));
        });
    });
    suite("Type variations", function () {
        var tests = [
            "type T extends Any {}",
            "type T extends Any;",
            "type T {}",
            "type T;"
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            var result = parse(data);
            chai_1.assert.deepEqual(result.schema.T, { derivedFrom: ast.typeType('Any'),
                methods: {},
                properties: {},
                params: []
            });
        });
    });
    suite("Sample files", function () {
        helper.dataDrivenTest(sample_files_1.samples, function (data) {
            var filename = 'samples/' + data + '.' + bolt.FILE_EXTENSION;
            return readFile(filename)
                .then(function (response) {
                var result = parse(response.content);
                chai_1.assert.ok(result, response.url);
                return true;
            });
        });
    });
    suite("Parser Errors", function () {
        var tests = [
            { data: "path /x/y/ is String;",
                expect: /end in a slash/ },
            { data: "path /x//y is String;",
                expect: /empty part/ },
            // BUG: Following errors should expect /empty part/ - PEG parser error?
            { data: "path //x is String;",
                expect: /./ },
            { data: "path // is String;",
                expect: /./ },
            { data: "path /x { validate() { return this.test(/a/g); } }",
                expect: /unsupported regexp modifier/i },
            { data: "path {}",
                expect: /missing path template/i },
            { data: "path / }",
                expect: /missing body of path/i },
            { data: "function foo { 7 }",
                expect: /missing parameters/i },
            { data: "foo { 7 }",
                expect: /expected.*function/i },
            { data: "foo(x)",
                expect: /missing.*body/i },
            { data: "path /x { foo(x); }",
                expect: /invalid path or method/i },
            { data: "foo(x) { x = 'a' }",
                expect: /equality/i },
            { data: "type X { bad-prop: String; }",
                expect: /invalid property or method/i },
            { data: "type { foo: String;}",
                expect: /missing type name/i },
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            try {
                parse(data);
            }
            catch (e) {
                chai_1.assert.match(e.message, expect);
                return;
            }
            chai_1.assert.fail(undefined, undefined, "No exception thrown.");
        });
    });
    suite("Syntax warnings.", function () {
        var tests = [
            { data: "path /x { read() { true }; }",
                expect: /extra separator/i },
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            parse(data);
            chai_1.assert.match(logger.getLastMessage(), expect);
        });
    });
    suite("Deprecation warnings.", function () {
        var tests = [
            { data: "path /x/$y is String;",
                expect: /path segment is deprecated/ },
            { data: "f(x) = x + 1;",
                expect: /fn\(x\) = exp; format is deprecated/ },
            { data: "f(x) = x + 1",
                expect: /fn\(x\) = exp; format is deprecated/ },
        ];
        helper.dataDrivenTest(tests, function (data, expect) {
            parse(data);
            chai_1.assert.match(logger.getLastMessage(), expect);
        });
    });
});
function sortPaths(paths) {
    function cmpStr(a, b) {
        if (a < b) {
            return -1;
        }
        if (a > b) {
            return 1;
        }
        return 0;
    }
    paths.sort(function (a, b) {
        return cmpStr(a.template.getLabels().join('~'), b.template.getLabels().join('~'));
    });
    return paths;
}

//# sourceMappingURL=data:application/json;charset=utf8;base64,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QUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDLENBQUM7UUFDcEQsQ0FBQyxDQUFDLENBQUM7SUFDTCxDQUFDLENBQUMsQ0FBQztJQUVILEtBQUssQ0FBQyxhQUFhLEVBQUU7UUFDbkIsSUFBSSxLQUFLLEdBQUc7WUFDVixDQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFFO1lBQzFCLENBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUU7WUFDNUQsQ0FBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBRTtZQUMvRCxDQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFO1lBQy9ELENBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBRTtZQUMxQyxDQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUU7WUFDNUUsQ0FBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFO1lBQzVFLENBQUUsSUFBSSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFO1lBQ3BDLDJEQUEyRDtZQUMzRCxDQUFFLEtBQUssRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUU7WUFDOUMsQ0FBRSxJQUFJLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBRTtZQUMzQixDQUFFLElBQUksRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBRTtZQUNwQyxDQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFO1lBQ3ZELENBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUU7WUFDdEQsQ0FBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRTtZQUN0RCxDQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFO1lBQ2xELENBQUUsT0FBTyxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUU7WUFDdEQsbUJBQW1CO1lBQ25CLENBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFFO1lBQ3BFLG1CQUFtQjtZQUNuQixDQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFFO1lBQzFGLDJCQUEyQjtZQUMzQixDQUFFLFdBQVcsRUFBRSxHQUFHLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFFO1lBQzNGLENBQUUsYUFBYSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUU7WUFDN0YsQ0FBRSxPQUFPLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRTtZQUNyRCxDQUFFLE9BQU8sRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFO1lBQ3JELENBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUU7WUFDdkQsQ0FBRSxRQUFRLEVBQUUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRTtZQUN2RCxDQUFFLFFBQVEsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFO1lBQ3RELENBQUUsUUFBUSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUU7WUFDdEQsQ0FBRSxTQUFTLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBRTtZQUN2RCxDQUFFLFNBQVMsRUFBRSxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFFO1lBQ3ZELENBQUUsWUFBWSxFQUFFLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxRQUFRLENBQUMs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Q0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNWLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNaLENBQUM7UUFDRCxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNWLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDWCxDQUFDO1FBQ0QsTUFBTSxDQUFDLENBQUMsQ0FBQztJQUNYLENBQUM7SUFFRCxLQUFLLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQyxFQUFFLENBQUM7UUFDZCxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsU0FBUyxFQUFFLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDcEYsQ0FBQyxDQUFDLENBQUM7SUFFSCxNQUFNLENBQUMsS0FBSyxDQUFDO0FBQ2YsQ0FBQyIsImZpbGUiOiJ0ZXN0L3BhcnNlci10ZXN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQge2Fzc2VydH0gZnJvbSAnY2hhaSc7XG5pbXBvcnQgKiBhcyBmaWxlSU8gZnJvbSAnLi4vZmlsZS1pbyc7XG5sZXQgcmVhZEZpbGUgPSBmaWxlSU8ucmVhZEZpbGU7XG5pbXBvcnQgKiBhcyBsb2dnZXIgZnJvbSAnLi4vbG9nZ2VyJztcbmltcG9ydCAqIGFzIGFzdCBmcm9tICcuLi9hc3QnO1xuaW1wb3J0ICogYXMgYm9sdCBmcm9tICcuLi9ib2x0JztcbmltcG9ydCAqIGFzIGhlbHBlciBmcm9tICcuL3Rlc3QtaGVscGVyJztcbmltcG9ydCB7c2FtcGxlc30gZnJvbSAnLi9zYW1wbGUtZmlsZXMnO1xuXG5sZXQgcGFyc2VyID0gcmVxdWlyZSgnLi4vcnVsZXMtcGFyc2VyJyk7XG5sZXQgcGFyc2UgPSBwYXJzZXIucGFyc2U7XG5cbi8vIFRPRE86IFRlc3QgZHVwbGljYXRlZCBmdW5jdGlvbiwgYW5kIHNjaGVtYSBkZWZpbml0aW9ucy5cblxuc3VpdGUoXCJSdWxlcyBQYXJzZXIgVGVzdHNcIiwgZnVuY3Rpb24oKSB7XG4gIHRlc3QoXCJFbXB0eSBpbnB1dFwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVzdWx0ID0gcGFyc2UoXCJcIik7XG4gICAgYXNzZXJ0Lm9rKHJlc3VsdCBpbnN0YW5jZW9mIGFzdC5TeW1ib2xzKTtcbiAgfSk7XG5cbiAgc3VpdGUoXCJGdW5jdGlvbiBTYW1wbGVzXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0czogaGVscGVyLk9iamVjdFNwZWNbXSA9IFtcbiAgICAgIHsgZGF0YTogXCJmdW5jdGlvbiBmKCkgeyByZXR1cm4gdHJ1ZTsgfVwiLFxuICAgICAgICBleHBlY3Q6IHsgZjogeyBwYXJhbXM6IFtdLCBib2R5OiBhc3QuYm9vbGVhbih0cnVlKSB9IH1cbiAgICAgIH0sXG4gICAgICB7IGRhdGE6IFwiZnVuY3Rpb24gbG9uZ05hbWUoKSB7IHJldHVybiBmYWxzZTsgfVwiLFxuICAgICAgICBleHBlY3Q6IHsgbG9uZ05hbWU6IHsgcGFyYW1zOiBbXSwgYm9keTogYXN0LmJvb2xlYW4oZmFsc2UpIH0gfVxuICAgICAgfSxcbiAgICAgIHsgZGF0YTogXCJmdW5jdGlvbiBmKCl7cmV0dXJuIHRydWU7fSBmdW5jdGlvbiBnKCl7cmV0dXJuIGZhbHNlO31cIixcbiAgICAgICAgZXhwZWN0OiB7IGY6IHsgcGFyYW1zOiBbXSwgYm9keTogYXN0LmJvb2xlYW4odHJ1ZSkgfSxcbiAgICAgICAgICAgICAgICAgIGc6IHsgcGFyYW1zOiBbXSwgYm9keTogYXN0LmJvb2xlYW4oZmFsc2UpIH0gfVxuICAgICAgfVxuICAgIF07XG5cbiAgICBoZWxwZXIuZGF0YURyaXZlblRlc3QodGVzdHMsIGZ1bmN0aW9uKGRhdGEsIGV4cGVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlKGRhdGEpO1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChyZXN1bHQuZnVuY3Rpb25zLCBleHBlY3QpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdWl0ZShcIkxpdGVyYWxzXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0cyA9IFtcbiAgICAgIFsgXCJ0cnVlXCIsIGFzdC5ib29sZWFuKHRydWUpIF0sXG4gICAgICBbIFwiZmFsc2VcIiwgYXN0LmJvb2xlYW4oZmFsc2UpIF0sXG4gICAgICBbIFwibnVsbFwiLCBhc3QubnVsbFR5cGUoKSBdLFxuICAgICAgWyBcIjFcIiwgYXN0Lm51bWJlcigxKSBdLFxuICAgICAgWyBcIjEuMVwiLCBhc3QubnVtYmVyKDEuMSkgXSxcbiAgICAgIFsgXCIrM1wiLCBhc3QubnVtYmVyKDMpIF0sXG4gICAgICBbIFwiLTNcIiwgYXN0Lm51bWJlcigtMykgXSxcbiAgICAgIFsgXCIweDJcIiwgYXN0Lm51bWJlcigyKSBdLFxuICAgICAgWyBcIlsxLCAyLCAzXVwiLCBhc3QuYXJyYXkoW2FzdC5udW1iZXIoMSksIGFzdC5udW1iZXIoMiksIGFzdC5udW1iZXIoMyldKSBdLFxuICAgICAgWyBcIlxcXCJzdHJpbmdcXFwiXCIsIGFzdC5zdHJpbmcoXCJzdHJpbmdcIikgXSxcbiAgICAgIFsgXCInc3RyaW5nJ1wiLCBhc3Quc3RyaW5nKFwic3RyaW5nXCIpIF0sXG4gICAgICBbIFwiJydcIiwgYXN0LnN0cmluZygnJykgXSxcbiAgICAgIFsgXCIvcGF0dGVybi9cIiwgYXN0LnJlZ2V4cChcInBhdHRlcm5cIikgXSxcbiAgICAgIFsgXCIvcGF0dGVybi9pXCIsIGFzdC5yZWdleHAoXCJwYXR0ZXJuXCIsIFwiaVwiKSBdLFxuICAgICAgWyBcIi9wYXRcXFxcbnRlcm4vXCIsIGFzdC5yZWdleHAoXCJwYXRcXFxcbnRlcm5cIikgXSxcbiAgICAgIFsgXCIvcGF0XFxcXC90ZXJuL1wiLCBhc3QucmVnZXhwKFwicGF0XFxcXC90ZXJuXCIpIF0sXG4gICAgICBbIFwiL3BhdFxcXFx0ZXJuL1wiLCBhc3QucmVnZXhwKFwicGF0XFxcXHRlcm5cIikgXSxcbiAgICBdO1xuXG4gICAgaGVscGVyLmRhdGFEcml2ZW5UZXN0KHRlc3RzLCBmdW5jdGlvbihkYXRhLCBleHBlY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBwYXJzZShcImZ1bmN0aW9uIGYoKSB7IHJldHVybiBcIiArIGRhdGEgKyBcIjt9XCIpO1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChyZXN1bHQuZnVuY3Rpb25zLmYuYm9keSwgZXhwZWN0KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgc3VpdGUoXCJFeHByZXNzaW9uc1wiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGVzdHMgPSBbXG4gICAgICBbIFwiYVwiLCBhc3QudmFyaWFibGUoJ2EnKSBdLFxuICAgICAgWyBcImEuYlwiLCBhc3QucmVmZXJlbmNlKGFzdC52YXJpYWJsZSgnYScpLCBhc3Quc3RyaW5nKCdiJykpIF0sXG4gICAgICBbIFwiYVsnYiddXCIsIGFzdC5yZWZlcmVuY2UoYXN0LnZhcmlhYmxlKCdhJyksIGFzdC5zdHJpbmcoJ2InKSkgXSxcbiAgICAgIFsgXCJhW2JdXCIsIGFzdC5yZWZlcmVuY2UoYXN0LnZhcmlhYmxlKCdhJyksIGFzdC52YXJpYWJsZSgnYicpKSBdLFxuICAgICAgWyBcImEoKVwiLCBhc3QuY2FsbChhc3QudmFyaWFibGUoJ2EnKSwgW10pIF0sXG4gICAgICBbIFwiYS5iKClcIiwgYXN0LmNhbGwoYXN0LnJlZmVyZW5jZShhc3QudmFyaWFibGUoJ2EnKSwgYXN0LnN0cmluZygnYicpKSwgW10pIF0sXG4gICAgICBbIFwiYSgpLmJcIiwgYXN0LnJlZmVyZW5jZShhc3QuY2FsbChhc3QudmFyaWFibGUoJ2EnKSwgW10pLCBhc3Quc3RyaW5nKCdiJykpIF0sXG4gICAgICBbIFwiLWFcIiwgYXN0Lm5lZyhhc3QudmFyaWFibGUoJ2EnKSkgXSxcbiAgICAgIC8vIFRPRE86IFRoaXMgc2hvdWxkIGJlIGFuIGVycm9yIC0gbG9va3MgbGlrZSBwcmUtZGVjcmVtZW50XG4gICAgICBbIFwiLS1hXCIsIGFzdC5uZWcoYXN0Lm5lZyhhc3QudmFyaWFibGUoJ2EnKSkpIF0sXG4gICAgICBbIFwiK2FcIiwgYXN0LnZhcmlhYmxlKCdhJykgXSxcbiAgICAgIFsgXCIhYVwiLCBhc3Qubm90KGFzdC52YXJpYWJsZSgnYScpKSBdLFxuICAgICAgWyBcIjIgKiBhXCIsIGFzdC5tdWx0KGFzdC5udW1iZXIoMiksIGFzdC52YXJpYWJsZSgnYScpKSBdLFxuICAgICAgWyBcIjIgLyBhXCIsIGFzdC5kaXYoYXN0Lm51bWJlcigyKSwgYXN0LnZhcmlhYmxlKCdhJykpIF0sXG4gICAgICBbIFwiYSAlIDJcIiwgYXN0Lm1vZChhc3QudmFyaWFibGUoJ2EnKSwgYXN0Lm51bWJlcigyKSkgXSxcbiAgICAgIFsgXCIxICsgMVwiLCBhc3QuYWRkKGFzdC5udW1iZXIoMSksIGFzdC5udW1iZXIoMSkpIF0sXG4gICAgICBbIFwiYSAtIDFcIiwgYXN0LnN1Yihhc3QudmFyaWFibGUoJ2EnKSwgYXN0Lm51bWJlcigxKSkgXSxcbiAgICAgIC8vIFVuYXJ5IHByZWNlZGVuY2VcbiAgICAgIFsgXCJhIC0gLWJcIiwgYXN0LnN1Yihhc3QudmFyaWFibGUoJ2EnKSwgYXN0Lm5lZyhhc3QudmFyaWFibGUoJ2InKSkpIF0sXG4gICAgICAvLyBMZWZ0IGFzc29jaWF0aXZlXG4gICAgICBbIFwiYSArIGIgKyBjXCIsIGFzdC5hZGQoYXN0LmFkZChhc3QudmFyaWFibGUoJ2EnKSwgYXN0LnZhcmlhYmxlKCdiJykpLCBhc3QudmFyaWFibGUoJ2MnKSkgXSxcbiAgICAgIC8vIE11bHRpcGxjYXRpb24gcHJlY2VkZW5jZVxuICAgICAgWyBcImEgKyBiICogY1wiLCBhc3QuYWRkKGFzdC52YXJpYWJsZSgnYScpLCBhc3QubXVsdChhc3QudmFyaWFibGUoJ2InKSwgYXN0LnZhcmlhYmxlKCdjJykpKSBdLFxuICAgICAgWyBcIihhICsgYikgKiBjXCIsIGFzdC5tdWx0KGFzdC5hZGQoYXN0LnZhcmlhYmxlKCdhJyksIGFzdC52YXJpYWJsZSgnYicpKSwgYXN0LnZhcmlhYmxlKCdjJykpIF0sXG4gICAgICBbIFwiYSA8IDdcIiwgYXN0Lmx0KGFzdC52YXJpYWJsZSgnYScpLCBhc3QubnVtYmVyKDcpKSBdLFxuICAgICAgWyBcImEgPiA3XCIsIGFzdC5ndChhc3QudmFyaWFibGUoJ2EnKSwgYXN0Lm51bWJlcig3KSkgXSxcbiAgICAgIFsgXCJhIDw9IDdcIiwgYXN0Lmx0ZShhc3QudmFyaWFibGUoJ2EnKSwgYXN0Lm51bWJlcig3KSkgXSxcbiAgICAgIFsgXCJhID49IDdcIiwgYXN0Lmd0ZShhc3QudmFyaWFibGUoJ2EnKSwgYXN0Lm51bWJlcig3KSkgXSxcbiAgICAgIFsgXCJhID09IDNcIiwgYXN0LmVxKGFzdC52YXJpYWJsZSgnYScpLCBhc3QubnVtYmVyKDMpKSBdLFxuICAgICAgWyBcImEgIT0gMFwiLCBhc3QubmUoYXN0LnZhcmlhYmxlKCdhJyksIGFzdC5udW1iZXIoMCkpIF0sXG4gICAgICBbIFwiYSA9PT0gM1wiLCBhc3QuZXEoYXN0LnZhcmlhYmxlKCdhJyksIGFzdC5udW1iZXIoMykpIF0sXG4gICAgICBbIFwiYSAhPT0gMFwiLCBhc3QubmUoYXN0LnZhcmlhYmxlKCdhJyksIGFzdC5udW1iZXIoMCkpIF0sXG4gICAgICBbIFwiMyAqIGEgPT0gYlwiLCBhc3QuZXEoYXN0Lm11bHQoYXN0Lm51bWJlcigzKSwgYXN0LnZhcmlhYmxlKCdhJykpLCBhc3QudmFyaWFibGUoJ2InKSkgXSxcbiAgICAgIFsgXCJhID09IDEgJiYgYiA8PSAyXCIsIGFzdC5hbmQoYXN0LmVxKGFzdC52YXJpYWJsZSgnYScpLCBhc3QubnVtYmVyKDEpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC5sdGUoYXN0LnZhcmlhYmxlKCdiJyksIGFzdC5udW1iZXIoMikpKSBdLFxuICAgICAgWyBcImEgPT0gMSB8fCBiIDw9IDJcIiwgYXN0Lm9yKGFzdC5lcShhc3QudmFyaWFibGUoJ2EnKSwgYXN0Lm51bWJlcigxKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC5sdGUoYXN0LnZhcmlhYmxlKCdiJyksIGFzdC5udW1iZXIoMikpKSBdLFxuICAgICAgLy8gTGVmdCBhc3NvY2lhdGl2ZSAoZXZlbiB0aG91Z2ggZXhlY3V0aW9uIGlzIHNob3J0LWNpcmN1aXRlZCFcbiAgICAgIFsgXCJhICYmIGIgJiYgY1wiLCBhc3QuYW5kKGFzdC5hbmQoYXN0LnZhcmlhYmxlKCdhJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3QudmFyaWFibGUoJ2InKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0LnZhcmlhYmxlKCdjJykpIF0sXG4gICAgICBbIFwiYSB8fCBiIHx8IGNcIiwgYXN0Lm9yKGFzdC5vcihhc3QudmFyaWFibGUoJ2EnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3QudmFyaWFibGUoJ2InKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3QudmFyaWFibGUoJ2MnKSkgXSxcbiAgICAgIC8vICYmIG92ZXIgfHwgcHJlY2VuZGVuY2VcbiAgICAgIFsgXCJhICYmIGIgfHwgYyAmJiBkXCIsIGFzdC5vcihhc3QuYW5kKGFzdC52YXJpYWJsZSgnYScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC52YXJpYWJsZSgnYicpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0LmFuZChhc3QudmFyaWFibGUoJ2MnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3QudmFyaWFibGUoJ2QnKSkpIF0sXG4gICAgICBbIFwiYSA/IGIgOiBjXCIsIGFzdC50ZXJuYXJ5KGFzdC52YXJpYWJsZSgnYScpLCBhc3QudmFyaWFibGUoJ2InKSwgYXN0LnZhcmlhYmxlKCdjJykpIF0sXG4gICAgICBbIFwiYSB8fCBiID8gYyA6IGRcIiwgYXN0LnRlcm5hcnkoYXN0Lm9yKGFzdC52YXJpYWJsZSgnYScpLCBhc3QudmFyaWFibGUoJ2InKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC52YXJpYWJsZSgnYycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhc3QudmFyaWFibGUoJ2QnKSkgXSxcbiAgICBdO1xuXG4gICAgaGVscGVyLmRhdGFEcml2ZW5UZXN0KHRlc3RzLCBmdW5jdGlvbihkYXRhLCBleHBlY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBwYXJzZShcImZ1bmN0aW9uIGYoKSB7IHJldHVybiBcIiArIGRhdGEgKyBcIjt9XCIpO1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChyZXN1bHQuZnVuY3Rpb25zLmYuYm9keSwgZXhwZWN0KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgc3VpdGUoXCJXaGl0ZXNwYWNlXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBmbiA9IFwiZnVuY3Rpb24gZigpIHsgcmV0dXJuIHRydWU7IH1cIjtcbiAgICB2YXIgZm5BU1Q6IGFzdC5NZXRob2QgPSB7IHBhcmFtczogW10sIGJvZHk6IGFzdC5ib29sZWFuKHRydWUpIH07XG5cbiAgICB2YXIgdGVzdHMgPSBbXG4gICAgICBcIiBcIiArIGZuLFxuICAgICAgZm4gKyBcIiBcIixcbiAgICAgIFwiIFwiICsgZm4gKyBcIiBcIixcbiAgICAgIFwiXFx0XCIgKyBmbixcbiAgICAgIFwiXFxuXCIgKyBmbixcbiAgICAgIFwiXFxyXFxuXCIgKyBmbixcbiAgICAgIGZuICsgXCJcXG5cIixcbiAgICAgIGZuICsgXCJcXHJcXG5cIixcbiAgICAgIFwiICBcXHRcIiArIGZuICsgXCIgIFxcclxcblwiXG4gICAgXTtcblxuICAgIGhlbHBlci5kYXRhRHJpdmVuVGVzdCh0ZXN0cywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChwYXJzZShkYXRhKS5mdW5jdGlvbnMuZiwgZm5BU1QpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdWl0ZShcIkNvbW1lbnRzXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBmbiA9IFwiZnVuY3Rpb24gZigpIHsgcmV0dXJuIHRydWU7IH1cIjtcbiAgICB2YXIgZm5BU1Q6IGFzdC5NZXRob2QgPSB7IHBhcmFtczogW10sIGJvZHk6IGFzdC5ib29sZWFuKHRydWUpIH07XG5cbiAgICB2YXIgdGVzdHMgPSBbXG4gICAgICBcIi8vU2luZ2xlIExpbmVcXG5cIiArIGZuLFxuICAgICAgZm4gKyBcIiAvLyBNeSBydWxlXCIsXG4gICAgICBcIi8vIExpbmUgMVxcbi8vIExpbmUgMlxcblwiICsgZm4sXG4gICAgICBcIi8qIGlubGluZSAqLyBcIiArIGZuLFxuICAgICAgXCIvKiBwcmUgKi8gXCIgKyBmbiArIFwiIC8qIHBvc3QgKi9cIlxuICAgIF07XG5cbiAgICBoZWxwZXIuZGF0YURyaXZlblRlc3QodGVzdHMsIGZ1bmN0aW9uKGRhdGEsIGV4cGVjdCkge1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChwYXJzZShkYXRhKS5mdW5jdGlvbnMuZiwgZm5BU1QpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdWl0ZShcIlBhdGhzXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0czogaGVscGVyLk9iamVjdFNwZWNbXSA9IFtcbiAgICAgIHsgZGF0YTogXCJwYXRoIC8ge31cIixcbiAgICAgICAgZXhwZWN0OiBbeyB0ZW1wbGF0ZTogbmV3IGFzdC5QYXRoVGVtcGxhdGUoKSxcbiAgICAgICAgICAgICAgICAgICBpc1R5cGU6IGFzdC50eXBlVHlwZSgnQW55JyksXG4gICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30gfV0gfSxcbiAgICAgIHsgZGF0YTogXCJwYXRoIC94IHt9XCIsXG4gICAgICAgIGV4cGVjdDogW3sgdGVtcGxhdGU6IG5ldyBhc3QuUGF0aFRlbXBsYXRlKFsneCddKSxcbiAgICAgICAgICAgICAgICAgICBpc1R5cGU6IGFzdC50eXBlVHlwZSgnQW55JyksXG4gICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30gfV0gfSxcbiAgICAgIHsgZGF0YTogXCJwYXRoIC9wL3skcX0geyB3cml0ZSgpIHsgcmV0dXJuIHRydWU7ICB9fVwiLFxuICAgICAgICBleHBlY3Q6IFt7IGlzVHlwZTogYXN0LnR5cGVUeXBlKCdBbnknKSxcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogbmV3IGFzdC5QYXRoVGVtcGxhdGUoWydwJywgJyRxJ10pLFxuICAgICAgICAgICAgICAgICAgIG1ldGhvZHM6IHt3cml0ZToge3BhcmFtczogW10sIGJvZHk6IGFzdC5ib29sZWFuKHRydWUpfX19XSB9LFxuICAgICAgeyBkYXRhOiBcInBhdGggL3Ave3F9IHsgd3JpdGUoKSB7IHJldHVybiB0cnVlOyAgfX1cIixcbiAgICAgICAgZXhwZWN0OiBbeyBpc1R5cGU6IGFzdC50eXBlVHlwZSgnQW55JyksXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IG5ldyBhc3QuUGF0aFRlbXBsYXRlKFsncCcsIG5ldyBhc3QuUGF0aFBhcnQoJyRxJywgJ3EnKV0pLFxuICAgICAgICAgICAgICAgICAgIG1ldGhvZHM6IHt3cml0ZToge3BhcmFtczogW10sIGJvZHk6IGFzdC5ib29sZWFuKHRydWUpfX19XSB9LFxuICAgICAgeyBkYXRhOiBcInBhdGggL3gveSB7IHJlYWQoKSB7IHRydWUgfSB9XCIsXG4gICAgICAgIGV4cGVjdDogW3sgaXNUeXBlOiBhc3QudHlwZVR5cGUoJ0FueScpLFxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBuZXcgYXN0LlBhdGhUZW1wbGF0ZShbJ3gnLCAneSddKSxcbiAgICAgICAgICAgICAgICAgICBtZXRob2RzOiB7cmVhZDoge3BhcmFtczogW10sIGJvZHk6IGFzdC5ib29sZWFuKHRydWUpfX19XSB9LFxuICAgICAgeyBkYXRhOiBcInBhdGggL3ggeyByZWFkKCkgeyB0cnVlIH0gL3kgeyB3cml0ZSgpIHsgdHJ1ZSB9IH19XCIsXG4gICAgICAgIGV4cGVjdDogW3sgaXNUeXBlOiBhc3QudHlwZVR5cGUoJ0FueScpLFxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBuZXcgYXN0LlBhdGhUZW1wbGF0ZShbJ3gnXSksXG4gICAgICAgICAgICAgICAgICAgbWV0aG9kczoge3JlYWQ6IHtwYXJhbXM6IFtdLCBib2R5OiBhc3QuYm9vbGVhbih0cnVlKX19fSxcbiAgICAgICAgICAgICAgICAgeyBpc1R5cGU6IGFzdC50eXBlVHlwZSgnQW55JyksXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IG5ldyBhc3QuUGF0aFRlbXBsYXRlKFsneCcsICd5J10pLFxuICAgICAgICAgICAgICAgICAgIG1ldGhvZHM6IHt3cml0ZToge3BhcmFtczogW10sIGJvZHk6IGFzdC5ib29sZWFuKHRydWUpfX19XSB9LFxuXG4gICAgICB7IGRhdGE6IFwicGF0aCAveCB7IHJlYWQoKSB7IHRydWUgfSAveSB7IHdyaXRlKCkgeyB0cnVlIH0gcGF0aCAveyRpZH0geyB2YWxpZGF0ZSgpIHsgZmFsc2UgfSB9fX1cIixcbiAgICAgICAgZXhwZWN0OiBbeyBpc1R5cGU6IGFzdC50eXBlVHlwZSgnQW55JyksXG4gICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IG5ldyBhc3QuUGF0aFRlbXBsYXRlKFsneCddKSxcbiAgICAgICAgICAgICAgICAgICBtZXRob2RzOiB7cmVhZDoge3BhcmFtczogW10sIGJvZHk6IGFzdC5ib29sZWFuKHRydWUpfX19LFxuICAgICAgICAgICAgICAgICB7IGlzVHlwZTogYXN0LnR5cGVUeXBlKCdBbnknKSxcbiAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogbmV3IGFzdC5QYXRoVGVtcGxhdGUoWyd4JywgJ3knXSksXG4gICAgICAgICAgICAgICAgICAgbWV0aG9kczoge3dyaXRlOiB7cGFyYW1zOiBbXSwgYm9keTogYXN0LmJvb2xlYW4odHJ1ZSl9fX0sXG4gICAgICAgICAgICAgICAgIHsgaXNUeXBlOiBhc3QudHlwZVR5cGUoJ0FueScpLFxuICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBuZXcgYXN0LlBhdGhUZW1wbGF0ZShbJ3gnLCAneScsICckaWQnXSksXG4gICAgICAgICAgICAgICAgICAgbWV0aG9kczoge3ZhbGlkYXRlOiB7cGFyYW1zOiBbXSwgYm9keTogYXN0LmJvb2xlYW4oZmFsc2UpfX19LFxuICAgICAgICAgICAgICAgIF0gfSxcbiAgICAgIHsgZGF0YTogXCJwYXRoIC9oeXBoZW4ta2V5IHt9XCIsXG4gICAgICAgIGV4cGVjdDogWyB7IHRlbXBsYXRlOiBuZXcgYXN0LlBhdGhUZW1wbGF0ZShbJ2h5cGhlbi1rZXknXSksXG4gICAgICAgICAgICAgICAgICAgIGlzVHlwZTogYXN0LnR5cGVUeXBlKCdBbnknKSxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30gfV0gfSxcbiAgICBdO1xuXG4gICAgaGVscGVyLmRhdGFEcml2ZW5UZXN0KHRlc3RzLCBmdW5jdGlvbihkYXRhLCBleHBlY3QpIHtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwoc29ydFBhdGhzKHBhcnNlKGRhdGEpLnBhdGhzKSwgc29ydFBhdGhzKGV4cGVjdCkpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdWl0ZShcIlNjaGVtYVwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGVzdHM6IGhlbHBlci5PYmplY3RTcGVjW10gPSBbXG4gICAgICB7IGRhdGE6IFwidHlwZSBGb28geyBhOiBOdW1iZXIgfVwiLFxuICAgICAgICBleHBlY3Q6IHsgZGVyaXZlZEZyb206IGFzdC50eXBlVHlwZSgnT2JqZWN0JyksXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7YTogYXN0LnR5cGVUeXBlKCdOdW1iZXInKX0sXG4gICAgICAgICAgICAgICAgICBtZXRob2RzOiB7fSxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICB7IGRhdGE6IFwidHlwZSBGb28geyBhOiBOdW1iZXIsIGI6IFN0cmluZyB9XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LnR5cGVUeXBlKCdPYmplY3QnKSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHthOiBhc3QudHlwZVR5cGUoJ051bWJlcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGI6IGFzdC50eXBlVHlwZSgnU3RyaW5nJyl9LFxuICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30sXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgIH19LFxuICAgICAgeyBkYXRhOiBcInR5cGUgRm9vIGV4dGVuZHMgQmFyIHt9XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LnR5cGVUeXBlKCdCYXInKSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30sXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgIH19LFxuICAgICAgeyBkYXRhOiBcInR5cGUgRm9vIHsgYTogTnVtYmVyIHZhbGlkYXRlKCkgeyByZXR1cm4gdHJ1ZTsgfX1cIixcbiAgICAgICAgZXhwZWN0OiB7IGRlcml2ZWRGcm9tOiBhc3QudHlwZVR5cGUoJ09iamVjdCcpLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge2E6IGFzdC50eXBlVHlwZSgnTnVtYmVyJyl9LFxuICAgICAgICAgICAgICAgICAgbWV0aG9kczoge3ZhbGlkYXRlOiB7cGFyYW1zOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IGFzdC5ib29sZWFuKHRydWUpfX0sXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgIH19LFxuICAgICAgeyBkYXRhOiBcInR5cGUgRm9vIHsgYTogTnVtYmVyLCB2YWxpZGF0ZSgpIHsgcmV0dXJuIHRydWU7IH19XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LnR5cGVUeXBlKCdPYmplY3QnKSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHthOiBhc3QudHlwZVR5cGUoJ051bWJlcicpfSxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZHM6IHt2YWxpZGF0ZToge3BhcmFtczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBhc3QuYm9vbGVhbih0cnVlKX19LFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbXSxcbiAgICAgICAgICAgICAgICB9fSxcbiAgICAgIHsgZGF0YTogXCJ0eXBlIEZvbyB7IGE6IE51bWJlciB8IFN0cmluZyB9XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LnR5cGVUeXBlKCdPYmplY3QnKSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHthOiBhc3QudW5pb25UeXBlKFthc3QudHlwZVR5cGUoJ051bWJlcicpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC50eXBlVHlwZSgnU3RyaW5nJyldKX0sXG4gICAgICAgICAgICAgICAgICBtZXRob2RzOiB7fSxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICB7IGRhdGE6IFwidHlwZSBGb28gZXh0ZW5kcyBOdW1iZXIgfCBTdHJpbmc7XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LnVuaW9uVHlwZShbYXN0LnR5cGVUeXBlKCdOdW1iZXInKSwgYXN0LnR5cGVUeXBlKCdTdHJpbmcnKV0pLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgICAgICAgICAgICBtZXRob2RzOiB7fSxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICB7IGRhdGE6IFwidHlwZSBGb28geyBhOiBNYXA8U3RyaW5nLCBOdW1iZXI+IH1cIixcbiAgICAgICAgZXhwZWN0OiB7IGRlcml2ZWRGcm9tOiBhc3QudHlwZVR5cGUoJ09iamVjdCcpLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge2E6IGFzdC5nZW5lcmljVHlwZSgnTWFwJywgW2FzdC50eXBlVHlwZSgnU3RyaW5nJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0LnR5cGVUeXBlKCdOdW1iZXInKV0pfSxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZHM6IHt9LFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbXSxcbiAgICAgICAgICAgICAgICB9fSxcbiAgICAgIHsgZGF0YTogXCJ0eXBlIEZvbyBleHRlbmRzIE1hcDxTdHJpbmcsIE51bWJlcj47XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LmdlbmVyaWNUeXBlKCdNYXAnLCBbYXN0LnR5cGVUeXBlKCdTdHJpbmcnKSwgYXN0LnR5cGVUeXBlKCdOdW1iZXInKV0pLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgICAgICAgICAgICAgICBtZXRob2RzOiB7fSxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICAvLyBBbGlhcyBmb3IgTWFwPFN0cmluZywgT3RoZXI+XG4gICAgICB7IGRhdGE6IFwidHlwZSBGb28geyBhOiBPdGhlcltdIH1cIixcbiAgICAgICAgZXhwZWN0OiB7IGRlcml2ZWRGcm9tOiBhc3QudHlwZVR5cGUoJ09iamVjdCcpLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge2E6IGFzdC5nZW5lcmljVHlwZSgnTWFwJywgW2FzdC50eXBlVHlwZSgnU3RyaW5nJyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0LnR5cGVUeXBlKCdPdGhlcicpXSl9LFxuICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30sXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgIH19LFxuXG4gICAgICB7IGRhdGE6IFwidHlwZSBGb28geyBhOiBNdWx0aTxTdHJpbmcsIE51bWJlciwgQm9vbGVhbj4gfVwiLFxuICAgICAgICBleHBlY3Q6IHsgZGVyaXZlZEZyb206IGFzdC50eXBlVHlwZSgnT2JqZWN0JyksXG4gICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiB7YTogYXN0LmdlbmVyaWNUeXBlKCdNdWx0aScsIFthc3QudHlwZVR5cGUoJ1N0cmluZycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXN0LnR5cGVUeXBlKCdOdW1iZXInKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFzdC50eXBlVHlwZSgnQm9vbGVhbicpXSl9LFxuICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30sXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgIH19LFxuICAgICAgeyBkYXRhOiBcInR5cGUgRm9vIHsgYTogR2VuMTxTdHJpbmc+IH1cIixcbiAgICAgICAgZXhwZWN0OiB7IGRlcml2ZWRGcm9tOiBhc3QudHlwZVR5cGUoJ09iamVjdCcpLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge2E6IGFzdC5nZW5lcmljVHlwZSgnR2VuMScsIFthc3QudHlwZVR5cGUoJ1N0cmluZycpXSl9LFxuICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30sXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgIH19LFxuXG4gICAgICB7IGRhdGE6IFwidHlwZSBGb288VD4geyBhOiBUIH1cIixcbiAgICAgICAgZXhwZWN0OiB7IGRlcml2ZWRGcm9tOiBhc3QudHlwZVR5cGUoJ09iamVjdCcpLFxuICAgICAgICAgICAgICAgICAgcHJvcGVydGllczoge2E6IGFzdC50eXBlVHlwZSgnVCcpfSxcbiAgICAgICAgICAgICAgICAgIG1ldGhvZHM6IHt9LFxuICAgICAgICAgICAgICAgICAgcGFyYW1zOiBbXCJUXCJdLFxuICAgICAgICAgICAgICAgIH19LFxuICAgICAgeyBkYXRhOiBcInR5cGUgRm9vIHsgbmFtZTogU3RyaW5nLCBhZ2U6IE51bWJlciB9XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LnR5cGVUeXBlKCdPYmplY3QnKSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBhc3QudHlwZVR5cGUoJ1N0cmluZycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZTogYXN0LnR5cGVUeXBlKCdOdW1iZXInKX0sXG4gICAgICAgICAgICAgICAgICBtZXRob2RzOiB7fSxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgfX0sXG4gICAgICB7IGRhdGE6IFwidHlwZSBGb28geyBuYW1lOiBTdHJpbmc7IGFnZTogTnVtYmVyOyB9XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LnR5cGVUeXBlKCdPYmplY3QnKSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtuYW1lOiBhc3QudHlwZVR5cGUoJ1N0cmluZycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFnZTogYXN0LnR5cGVUeXBlKCdOdW1iZXInKX0sXG4gICAgICAgICAgICAgICAgICBtZXRob2RzOiB7fSxcbiAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgfX0sXG5cbiAgICAgIHsgZGF0YTogXCJ0eXBlIEZvbyB7ICdoeXBoZW4tcHJvcCc6IFN0cmluZyB9XCIsXG4gICAgICAgIGV4cGVjdDogeyBkZXJpdmVkRnJvbTogYXN0LnR5cGVUeXBlKCdPYmplY3QnKSxcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHtcImh5cGhlbi1wcm9wXCI6IGFzdC50eXBlVHlwZSgnU3RyaW5nJyl9LFxuICAgICAgICAgICAgICAgICAgbWV0aG9kczoge30sXG4gICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgIH19LFxuICAgIF07XG5cbiAgICBoZWxwZXIuZGF0YURyaXZlblRlc3QodGVzdHMsIGZ1bmN0aW9uKGRhdGEsIGV4cGVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IHBhcnNlKGRhdGEpLnNjaGVtYS5Gb287XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKHJlc3VsdCwgZXhwZWN0KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgc3VpdGUoXCJGdW5jdGlvbiB2YXJpYXRpb25zXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0cyA9IFtcbiAgICAgIFwiZnVuY3Rpb24gZih4KSB7IHJldHVybiB4ICsgMTsgfVwiLFxuICAgICAgXCJmdW5jdGlvbiBmKHgpIHsgcmV0dXJuIHggKyAxIH1cIixcbiAgICAgIFwiZnVuY3Rpb24gZih4KSB7IHggKyAxOyB9XCIsXG4gICAgICBcImZ1bmN0aW9uIGYoeCkgeyB4ICsgMSB9XCIsXG4gICAgXTtcblxuICAgIGhlbHBlci5kYXRhRHJpdmVuVGVzdCh0ZXN0cywgZnVuY3Rpb24oZGF0YSwgZXhwZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gcGFyc2UoZGF0YSk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKHJlc3VsdC5mdW5jdGlvbnMuZi5ib2R5LFxuICAgICAgICAgICAgICAgICAgICAgICBhc3QuYWRkKGFzdC52YXJpYWJsZSgneCcpLCBhc3QubnVtYmVyKDEpKSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHN1aXRlKFwiTWV0aG9kIHZhcmlhdGlvbnNcIiwgZnVuY3Rpb24oKSB7XG4gICAgdmFyIHRlc3RzID0gW1xuICAgICAgXCJ2YWxpZGF0ZSgpIHsgcmV0dXJuIHRoaXM7IH1cIixcbiAgICAgIFwidmFsaWRhdGUoKSB7IHJldHVybiB0aGlzICB9XCIsXG4gICAgICBcInZhbGlkYXRlKCkgeyB0aGlzOyB9XCIsXG4gICAgICBcInZhbGlkYXRlKCkgeyB0aGlzIH1cIixcbiAgICBdO1xuXG4gICAgaGVscGVyLmRhdGFEcml2ZW5UZXN0KHRlc3RzLCBmdW5jdGlvbihkYXRhLCBleHBlY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBwYXJzZShcInR5cGUgVCB7XCIgKyBkYXRhICsgXCJ9XCIpO1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChyZXN1bHQuc2NoZW1hLlQubWV0aG9kcy52YWxpZGF0ZS5ib2R5LFxuICAgICAgICAgICAgICAgICAgICAgICBhc3QudmFyaWFibGUoJ3RoaXMnKSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHN1aXRlKFwiUGF0aCB2YXJpYXRpb25zXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0cyA9IFtcbiAgICAgIFwicGF0aCAvcC97Y30ge31cIixcbiAgICAgIFwiL3Ave2N9IHt9XCIsXG4gICAgICBcIi9wL3tjfTtcIixcbiAgICAgIFwicGF0aCAvcC97Y30gaXMgU3RyaW5nIHt9XCIsXG4gICAgICBcInBhdGggL3Ave2N9IGlzIFN0cmluZztcIixcbiAgICAgIFwiL3Ave2N9IGlzIFN0cmluZyB7fVwiLFxuICAgICAgXCIvcC97Y30gaXMgU3RyaW5nO1wiLFxuICAgICAgXCIvcC97Yz0qfSBpcyBTdHJpbmc7XCIsXG4gICAgICBcIi9wL3tjID0gKn0gaXMgU3RyaW5nO1wiLFxuICAgICAgXCIvcC97Y30geyB2YWxpZGF0ZSgpIHsgcmV0dXJuIHRydWU7IH0gfVwiLFxuICAgICAgXCIvcC97Y30geyB2YWxpZGF0ZSgpIHsgcmV0dXJuIHRydWUgfSB9XCIsXG4gICAgICBcIi9wL3tjfSB7IHZhbGlkYXRlKCkgeyB0cnVlIH0gfVwiLFxuICAgICAgXCIvcC97Y30geyB2YWxpZGF0ZSgpIHsgdHJ1ZTsgfSB9XCIsXG4gICAgXTtcblxuICAgIGhlbHBlci5kYXRhRHJpdmVuVGVzdCh0ZXN0cywgZnVuY3Rpb24oZGF0YSwgZXhwZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gcGFyc2UoZGF0YSk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKHJlc3VsdC5wYXRoc1swXS50ZW1wbGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgbmV3IGFzdC5QYXRoVGVtcGxhdGUoWydwJywgbmV3IGFzdC5QYXRoUGFydCgnJGMnLCAnYycpXSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBzdWl0ZShcIlR5cGUgdmFyaWF0aW9uc1wiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGVzdHMgPSBbXG4gICAgICBcInR5cGUgVCBleHRlbmRzIEFueSB7fVwiLFxuICAgICAgXCJ0eXBlIFQgZXh0ZW5kcyBBbnk7XCIsXG4gICAgICBcInR5cGUgVCB7fVwiLFxuICAgICAgXCJ0eXBlIFQ7XCJcbiAgICBdO1xuXG4gICAgaGVscGVyLmRhdGFEcml2ZW5UZXN0KHRlc3RzLCBmdW5jdGlvbihkYXRhLCBleHBlY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBwYXJzZShkYXRhKTtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwocmVzdWx0LnNjaGVtYS5ULFxuICAgICAgICAgICAgICAgICAgICAgICB7IGRlcml2ZWRGcm9tOiBhc3QudHlwZVR5cGUoJ0FueScpLFxuICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZHM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBzdWl0ZShcIlNhbXBsZSBmaWxlc1wiLCBmdW5jdGlvbigpIHtcbiAgICBoZWxwZXIuZGF0YURyaXZlblRlc3Qoc2FtcGxlcywgZnVuY3Rpb24oZGF0YSkge1xuICAgICAgdmFyIGZpbGVuYW1lID0gJ3NhbXBsZXMvJyArIGRhdGEgKyAnLicgKyBib2x0LkZJTEVfRVhURU5TSU9OO1xuICAgICAgcmV0dXJuIHJlYWRGaWxlKGZpbGVuYW1lKVxuICAgICAgICAudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgIHZhciByZXN1bHQgPSBwYXJzZShyZXNwb25zZS5jb250ZW50KTtcbiAgICAgICAgICBhc3NlcnQub2socmVzdWx0LCByZXNwb25zZS51cmwpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgc3VpdGUoXCJQYXJzZXIgRXJyb3JzXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0cyA9IFtcbiAgICAgIHsgZGF0YTogXCJwYXRoIC94L3kvIGlzIFN0cmluZztcIixcbiAgICAgICAgZXhwZWN0OiAvZW5kIGluIGEgc2xhc2gvIH0sXG4gICAgICB7IGRhdGE6IFwicGF0aCAveC8veSBpcyBTdHJpbmc7XCIsXG4gICAgICAgIGV4cGVjdDogL2VtcHR5IHBhcnQvIH0sXG4gICAgICAvLyBCVUc6IEZvbGxvd2luZyBlcnJvcnMgc2hvdWxkIGV4cGVjdCAvZW1wdHkgcGFydC8gLSBQRUcgcGFyc2VyIGVycm9yP1xuICAgICAgeyBkYXRhOiBcInBhdGggLy94IGlzIFN0cmluZztcIixcbiAgICAgICAgZXhwZWN0OiAvLi8gfSxcbiAgICAgIHsgZGF0YTogXCJwYXRoIC8vIGlzIFN0cmluZztcIixcbiAgICAgICAgZXhwZWN0OiAvLi8gfSxcbiAgICAgIHsgZGF0YTogXCJwYXRoIC94IHsgdmFsaWRhdGUoKSB7IHJldHVybiB0aGlzLnRlc3QoL2EvZyk7IH0gfVwiLFxuICAgICAgICBleHBlY3Q6IC91bnN1cHBvcnRlZCByZWdleHAgbW9kaWZpZXIvaSB9LFxuICAgICAgeyBkYXRhOiBcInBhdGgge31cIixcbiAgICAgICAgZXhwZWN0OiAvbWlzc2luZyBwYXRoIHRlbXBsYXRlL2kgfSxcbiAgICAgIHsgZGF0YTogXCJwYXRoIC8gfVwiLFxuICAgICAgICBleHBlY3Q6IC9taXNzaW5nIGJvZHkgb2YgcGF0aC9pIH0sXG4gICAgICB7IGRhdGE6IFwiZnVuY3Rpb24gZm9vIHsgNyB9XCIsXG4gICAgICAgIGV4cGVjdDogL21pc3NpbmcgcGFyYW1ldGVycy9pIH0sXG4gICAgICB7IGRhdGE6IFwiZm9vIHsgNyB9XCIsXG4gICAgICAgIGV4cGVjdDogL2V4cGVjdGVkLipmdW5jdGlvbi9pIH0sXG4gICAgICB7IGRhdGE6IFwiZm9vKHgpXCIsXG4gICAgICAgIGV4cGVjdDogL21pc3NpbmcuKmJvZHkvaSB9LFxuICAgICAgeyBkYXRhOiBcInBhdGggL3ggeyBmb28oeCk7IH1cIixcbiAgICAgICAgZXhwZWN0OiAvaW52YWxpZCBwYXRoIG9yIG1ldGhvZC9pIH0sXG4gICAgICB7IGRhdGE6IFwiZm9vKHgpIHsgeCA9ICdhJyB9XCIsXG4gICAgICAgIGV4cGVjdDogL2VxdWFsaXR5L2kgfSxcbiAgICAgIHsgZGF0YTogXCJ0eXBlIFggeyBiYWQtcHJvcDogU3RyaW5nOyB9XCIsXG4gICAgICAgIGV4cGVjdDogL2ludmFsaWQgcHJvcGVydHkgb3IgbWV0aG9kL2kgfSxcbiAgICAgIHsgZGF0YTogXCJ0eXBlIHsgZm9vOiBTdHJpbmc7fVwiLFxuICAgICAgICBleHBlY3Q6IC9taXNzaW5nIHR5cGUgbmFtZS9pIH0sXG4gICAgXTtcblxuICAgIGhlbHBlci5kYXRhRHJpdmVuVGVzdCh0ZXN0cywgZnVuY3Rpb24oZGF0YSwgZXhwZWN0KSB7XG4gICAgICB0cnkge1xuICAgICAgICBwYXJzZShkYXRhKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXNzZXJ0Lm1hdGNoKGUubWVzc2FnZSwgZXhwZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXNzZXJ0LmZhaWwodW5kZWZpbmVkLCB1bmRlZmluZWQsIFwiTm8gZXhjZXB0aW9uIHRocm93bi5cIik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHN1aXRlKFwiU3ludGF4IHdhcm5pbmdzLlwiLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgdGVzdHMgPSBbXG4gICAgICB7IGRhdGE6IFwicGF0aCAveCB7IHJlYWQoKSB7IHRydWUgfTsgfVwiLFxuICAgICAgICBleHBlY3Q6IC9leHRyYSBzZXBhcmF0b3IvaSB9LFxuICAgIF07XG5cbiAgICBoZWxwZXIuZGF0YURyaXZlblRlc3QodGVzdHMsIGZ1bmN0aW9uKGRhdGEsIGV4cGVjdCkge1xuICAgICAgcGFyc2UoZGF0YSk7XG4gICAgICBhc3NlcnQubWF0Y2gobG9nZ2VyLmdldExhc3RNZXNzYWdlKCksIGV4cGVjdCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHN1aXRlKFwiRGVwcmVjYXRpb24gd2FybmluZ3MuXCIsIGZ1bmN0aW9uKCkge1xuICAgIHZhciB0ZXN0cyA9IFtcbiAgICAgIHsgZGF0YTogXCJwYXRoIC94LyR5IGlzIFN0cmluZztcIixcbiAgICAgICAgZXhwZWN0OiAvcGF0aCBzZWdtZW50IGlzIGRlcHJlY2F0ZWQvIH0sXG4gICAgICB7IGRhdGE6IFwiZih4KSA9IHggKyAxO1wiLFxuICAgICAgICBleHBlY3Q6IC9mblxcKHhcXCkgPSBleHA7IGZvcm1hdCBpcyBkZXByZWNhdGVkLyB9LFxuICAgICAgeyBkYXRhOiBcImYoeCkgPSB4ICsgMVwiLFxuICAgICAgICBleHBlY3Q6IC9mblxcKHhcXCkgPSBleHA7IGZvcm1hdCBpcyBkZXByZWNhdGVkLyB9LFxuICAgIF07XG5cbiAgICBoZWxwZXIuZGF0YURyaXZlblRlc3QodGVzdHMsIGZ1bmN0aW9uKGRhdGEsIGV4cGVjdCkge1xuICAgICAgcGFyc2UoZGF0YSk7XG4gICAgICBhc3NlcnQubWF0Y2gobG9nZ2VyLmdldExhc3RNZXNzYWdlKCksIGV4cGVjdCk7XG4gICAgfSk7XG4gIH0pO1xufSk7XG5cbmZ1bmN0aW9uIHNvcnRQYXRocyhwYXRoczogYXN0LlBhdGhbXSk6IGFzdC5QYXRoW10ge1xuICBmdW5jdGlvbiBjbXBTdHIoYTogc3RyaW5nLCBiOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGlmIChhIDwgYikge1xuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpZiAoYSA+IGIpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIHBhdGhzLnNvcnQoKGEsIGIpID0+IHtcbiAgICByZXR1cm4gY21wU3RyKGEudGVtcGxhdGUuZ2V0TGFiZWxzKCkuam9pbignficpLCBiLnRlbXBsYXRlLmdldExhYmVscygpLmpvaW4oJ34nKSk7XG4gIH0pO1xuXG4gIHJldHVybiBwYXRocztcbn1cbiJdfQ==
